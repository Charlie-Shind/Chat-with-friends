{"version":3,"sources":["uni-app:///main.js","webpack:///D:/List/ceshi/uniapp/pages/publish/archives.vue?a483","webpack:///D:/List/ceshi/uniapp/pages/publish/archives.vue?b762","webpack:///D:/List/ceshi/uniapp/pages/publish/archives.vue?4518","webpack:///D:/List/ceshi/uniapp/pages/publish/archives.vue?433b","uni-app:///pages/publish/archives.vue","webpack:///D:/List/ceshi/uniapp/pages/publish/archives.vue?5b8d","webpack:///D:/List/ceshi/uniapp/pages/publish/archives.vue?e527"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","FaArray","FaArrayDownload","FaCheckRadio","FaCitys","FaEditor","FaFile","FaSelectpages","FaSelects","FaSwitch","FaTags","FaUploadFile","FaUploadImage","mixins","onLoad","data","archives_id","labelPosition","border","errorType","showForm","title","fields","values","archives","form","rules","rules_bak","calendarShow","showPicker","mode","time_field","params","cityShow","city_field","imageList","methods","showField","success","visible","getChannelFields","channel_id","custom_form","item","url","images","urls","console","tagsChange","selectPicker","year","month","day","hour","minute","second","pickerResult","openmap","uni","that","fail","calendarResult","cityResult","submit","id","setTimeout","delta","prevPage"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AACsL;AACtL,gBAAgB,wLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxKA;AAAA;AAAA;AAAA;AAAurB,CAAgB,yqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC+H3sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAaA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;IACA;IACA;IACA;MACA;IACA;IACA;EACA;EACAC;IACA;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA;QACA;UACA;UACA;YACA;YACA;cACA;gBACAC;cACA;cACA;YACA;cACA;gBACAA;cACA;cACA;YACA;cACA;gBACAA;cACA;cACA;YACA;cACA;gBACAA;cACA;cACA;YACA;cACA;gBACAA;cACA;cACA;YACA;cACA;gBACAA;cACA;cACA;YACA;cACA;cACA;gBACAA;cACA;cACA;YACA;cACA;UAAA;UAEA;YACA;UACA;UACA;YACAC;UACA;QACA;MACA;QACAA;MACA;MACA;QACA;QACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;QACAzB;MACA;QACA;UACA;UACA;UACA;;UAEA;UACA;UACA;UACA;YACA;YACA;cACA0B;YACA;cACAA;YACA;;YAEA;YACA;cACA;gBACAC;kBACAC;gBACA;cACA;gBACAD;cACA;YACA;YACA;YACA;cACA;gBACA;gBACA;gBACAE;kBACAC;oBACAF;kBACA;gBACA;gBACAD;cACA;gBACAA;cACA;YACA;YACA;YACA;cACAA;YACA;YACA;YACA;cACA;gBACAA;cACA;gBACAA;cACA;YACA;YACA;YACAA;YACA;YACAjB;YACAqB;YACA;YACArB;cACA;gBACAiB;cACA;YACA;UACA;UACAI;UAEA;UACA;UACA;UACA;UACA;UACAA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACA;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;QACA;UACA;YACAL;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;QACA;UACA;YACAL;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;MAAA;MAEA;IACA;IACA;IACAC;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IACAC;MACA;MACAC;QACApB;UACAqB;QACA;QACAC;UACAb;QACA;MACA;IACA;IACA;IACAc;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAhB;gBACA;kBACA;gBACA;gBACA;gBACA;kBACA;oBACAA;oBACA;sBAAAN;sBAAAuB;oBAAA;sBACA;sBACA;wBACAC;0BACAP;4BACAQ;4BACA5B;8BACA;8BACA;8BACAS;8BACAoB;4BACA;0BACA;wBACA;sBACA;oBACA;kBACA;oBACApB;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChcA;AAAA;AAAA;AAAA;AAAsyC,CAAgB,osCAAG,EAAC,C;;;;;;;;;;;ACA1zC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/publish/archives.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/publish/archives.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./archives.vue?vue&type=template&id=33934e2c&\"\nvar renderjs\nimport script from \"./archives.vue?vue&type=script&lang=js&\"\nexport * from \"./archives.vue?vue&type=script&lang=js&\"\nimport style0 from \"./archives.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/publish/archives.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./archives.vue?vue&type=template&id=33934e2c&\"","var components\ntry {\n  components = {\n    faNavbar: function () {\n      return import(\n        /* webpackChunkName: \"components/fa-navbar/fa-navbar\" */ \"@/components/fa-navbar/fa-navbar.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    faTags: function () {\n      return import(\n        /* webpackChunkName: \"components/fa-tags/fa-tags\" */ \"@/components/fa-tags/fa-tags.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-picker/u-picker\" */ \"@/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n    uCalendar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-calendar/u-calendar\" */ \"@/uview-ui/components/u-calendar/u-calendar.vue\"\n      )\n    },\n    faTabbar: function () {\n      return import(\n        /* webpackChunkName: \"components/fa-tabbar/fa-tabbar\" */ \"@/components/fa-tabbar/fa-tabbar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.showForm\n    ? _vm.__map(_vm.fields, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var m0 = item.type == \"string\" && _vm.showField(item, index)\n        var m1 = item.type == \"location\" && _vm.showField(item, index)\n        var m2 = item.type == \"text\" && _vm.showField(item, index)\n        var m3 = item.type == \"editor\" && _vm.showField(item, index)\n        var m4 =\n          item.type == \"array\" &&\n          _vm.showField(item, index) &&\n          item.name !== \"downloadurl\"\n        var m5 =\n          item.type == \"array\" &&\n          _vm.showField(item, index) &&\n          item.name == \"downloadurl\"\n        var m6 = item.type == \"tags\" && _vm.showField(item, index)\n        var m7 = item.type == \"date\" && _vm.showField(item, index)\n        var m8 = item.type == \"time\" && _vm.showField(item, index)\n        var m9 = item.type == \"datetime\" && _vm.showField(item, index)\n        var m10 = item.type == \"datetimerange\" && _vm.showField(item, index)\n        var m11 = item.type == \"number\" && _vm.showField(item, index)\n        var m12 = item.type == \"checkbox\" && _vm.showField(item, index)\n        var m13 = item.type == \"radio\" && _vm.showField(item, index)\n        var m14 = item.type == \"select\" && _vm.showField(item, index)\n        var m15 = item.type == \"selects\" && _vm.showField(item, index)\n        var m16 = item.type == \"image\" && _vm.showField(item, index)\n        var m17 = item.type == \"images\" && _vm.showField(item, index)\n        var m18 = item.type == \"file\" && _vm.showField(item, index)\n        var m19 = item.type == \"files\" && _vm.showField(item, index)\n        var m20 = item.type == \"switch\" && _vm.showField(item, index)\n        var m21 = item.type == \"city\" && _vm.showField(item, index)\n        var m22 = item.type == \"selectpage\" && _vm.showField(item, index)\n        var m23 = item.type == \"selectpages\" && _vm.showField(item, index)\n        return {\n          $orig: $orig,\n          m0: m0,\n          m1: m1,\n          m2: m2,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n          m6: m6,\n          m7: m7,\n          m8: m8,\n          m9: m9,\n          m10: m10,\n          m11: m11,\n          m12: m12,\n          m13: m13,\n          m14: m14,\n          m15: m15,\n          m16: m16,\n          m17: m17,\n          m18: m18,\n          m19: m19,\n          m20: m20,\n          m21: m21,\n          m22: m22,\n          m23: m23,\n        }\n      })\n    : null\n  var a0 = _vm.showForm\n    ? {\n        backgroundColor: _vm.theme.bgColor,\n        color: _vm.theme.color,\n      }\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, item) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n      var _temp, _temp2\n      _vm.calendarShow = true\n      _vm.time_field = item.name\n    }\n    _vm.e1 = function ($event, item) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        item = _temp4.item\n      var _temp3, _temp4\n      _vm.cityShow = true\n      _vm.city_field = item.name\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        a0: a0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./archives.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./archives.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 顶部导航 -->\r\n\t\t<fa-navbar :title=\"title\" ref=\"navbar\"></fa-navbar>\r\n\t\t<view class=\"u-p-30\" v-if=\"showForm\">\r\n\t\t\t<u-form :model=\"form\" :rules=\"rules\" ref=\"uForm\" :errorType=\"errorType\">\r\n\t\t\t\t<!-- 自定义字段 -->\r\n\t\t\t\t<block v-for=\"(item, index) in fields\" :key=\"index\">\r\n\t\t\t\t\t<!-- 字符 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'string' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input type=\"text\" :border=\"border\" :placeholder=\"item.tip || '请填写' + item.title\" v-model=\"form[item.name]\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 定位 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'location' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input type=\"select\" :border=\"border\" :placeholder=\"item.tip || '请填写' + item.title\" v-model=\"form[item.name]\" @click=\"openmap(item.name)\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 文本 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'text' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input type=\"textarea\" :border=\"border\" :placeholder=\"item.tip || '请填写' + item.title\" v-model=\"form[item.name]\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 编辑器 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'editor' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-editor v-model=\"form[item.name]\" :html=\"item.value\"></fa-editor>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 数组 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'array' && showField(item, index) && item.name !== 'downloadurl'\">\r\n\t\t\t\t\t\t<fa-array :faKey=\"item.setting.key\" :faVal=\"item.setting.value\" v-model=\"form[item.name]\" :showValue=\"item.value || item.content_list\"></fa-array>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 数组（下载） -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :label=\"item.title\" :required=\"item.required\" v-if=\"item.type == 'array' && showField(item, index) && item.name == 'downloadurl'\">\r\n\t\t\t\t\t\t<fa-array-download v-model=\"form[item.name]\" :showValue=\"item.value\" :contentList=\"item.content_list\"></fa-array-download>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 标签 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'tags' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-tags v-model=\"form.tags\" :tagList=\"archives && archives.tags\"></fa-tags>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 日期 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'date' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input :border=\"border\" type=\"select\" :select-open=\"showPicker && mode == 'date'\" v-model=\"form[item.name]\" :placeholder=\"item.tip || '请选择' + item.title\" @click=\"selectPicker('date', item.name)\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 时间 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'time' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input :border=\"border\" type=\"select\" :select-open=\"showPicker && mode == 'time'\" v-model=\"form[item.name]\" :placeholder=\"item.tip || '请选择' + item.title\" @click=\"selectPicker('time', item.name)\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 日期时间 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'datetime' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input :border=\"border\" type=\"select\" :select-open=\"showPicker && mode == 'datetime'\" v-model=\"form[item.name]\" :placeholder=\"item.tip || '请选择' + item.title\" @click=\"selectPicker('datetime', item.name)\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 日期区间 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'datetimerange' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input :border=\"border\" type=\"select\" :select-open=\"calendarShow\" v-model=\"form[item.name]\" :placeholder=\"item.tip || '请选择' + item.title\" @click=\"calendarShow = true;time_field = item.name;\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 数字 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'number' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input type=\"number\" :border=\"border\" :placeholder=\"item.tip || '请填写' + item.title\" v-model=\"form[item.name]\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 多选框 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'checkbox' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-check-radio :faList=\"item.content_list\" v-model=\"form[item.name]\" :checkValue=\"item.value || item.defaultvalue\"></fa-check-radio>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 单选框 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'radio' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-check-radio :faList=\"item.content_list\" type=\"radio\" v-model=\"form[item.name]\" :checkValue=\"item.value || item.defaultvalue\"></fa-check-radio>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 列表单选 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'select' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-selects :fa-list=\"item.content_list\" :title=\"item.title\" :checkeType=\"item.type\" :showValue=\"item.value || item.defaultvalue\" v-model=\"form[item.name]\"></fa-selects>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 列表多选 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'selects' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-selects :fa-list=\"item.content_list\" :title=\"item.title\" :checkeType=\"item.type\" :showValue=\"item.value || item.defaultvalue\" v-model=\"form[item.name]\"></fa-selects>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 单图 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'image' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-upload-image v-model=\"form[item.name]\" :file-list=\"item.value\"></fa-upload-image>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 多图 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'images' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-upload-image v-model=\"form[item.name]\" imgType=\"many\" :file-list=\"item.value\"></fa-upload-image>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- #ifdef APP-PLUS || H5 || MP-WEIXIN -->\r\n\t\t\t\t\t<!-- 单文件 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'file' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-upload-file v-model=\"form[item.name]\" :isDom=\"true\" :showValue=\"item.value\"></fa-upload-file>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 多文件 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'files' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-upload-file v-model=\"form[item.name]\" fileType=\"many\" :isDom=\"true\" :showValue=\"item.value\"></fa-upload-file>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- 开关 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'switch' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-switch v-model=\"form[item.name]\" :defvalue=\"item.value || 0\"></fa-switch>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 关联城市 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'city' && showField(item, index)\">\r\n\t\t\t\t\t\t<u-input :border=\"border\" type=\"select\" :select-open=\"cityShow\" v-model=\"form[item.name]\" :placeholder=\"item.tip || '请选择' + item.title\" @click=\"\r\n\t\t\t\t\t\t\t\tcityShow = true;\r\n\t\t\t\t\t\t\t\tcity_field = item.name;\r\n\t\t\t\t\t\t\t\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 关联单选 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'selectpage' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-selectpages :fa-id=\"item.id\" :title=\"item.title\" :checkeType=\"item.type\" :showField=\"item.setting.field\" :keyField=\"item.setting.primarykey\" :showValue=\"(form[item.name] ? form[item.name] : item.value) || item.defaultvalue\" v-model=\"form[item.name]\"></fa-selectpages>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<!-- 关联多选 -->\r\n\t\t\t\t\t<u-form-item :label-position=\"labelPosition\" label-width=\"130\" :prop=\"item.name\" :required=\"item.required\" :label=\"item.title\" v-if=\"item.type == 'selectpages' && showField(item, index)\">\r\n\t\t\t\t\t\t<fa-selectpages :fa-id=\"item.id\" :title=\"item.title\" :checkeType=\"item.type\" :showField=\"item.setting.field\" :keyField=\"item.setting.primarykey\" :showValue=\"(form[item.name] ? form[item.name] : item.value) || item.defaultvalue\" v-model=\"form[item.name]\"></fa-selectpages>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</block>\r\n\t\t\t</u-form>\r\n\t\t\t<view class=\"u-p-30 u-m-t-30\">\r\n\t\t\t\t<u-button type=\"primary\" hover-class=\"none\" :custom-style=\"{ backgroundColor: theme.bgColor, color: theme.color }\" shape=\"circle\" @click=\"submit\">\r\n\t\t\t\t\t提交\r\n\t\t\t\t</u-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-picker v-model=\"showPicker\" mode=\"time\" :params=\"params\" @confirm=\"pickerResult\"></u-picker>\r\n\t\t<u-calendar v-model=\"calendarShow\" mode=\"range\" @change=\"calendarResult\" max-date=\"3000-01-01\"></u-calendar>\r\n\t\t<!-- 城市 -->\r\n\t\t<fa-citys v-model=\"cityShow\" @city-change=\"cityResult\"></fa-citys>\r\n\t\t<!-- 底部导航 -->\r\n\t\t<fa-tabbar></fa-tabbar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { formRule } from '@/common/fa.mixin.js';\r\n\timport FaArray from './components/fa-array/fa-array.vue';\r\n\timport FaArrayDownload from './components/fa-array-download/fa-array-download.vue';\r\n\timport FaCheckRadio from './components/fa-check-radio/fa-check-radio.vue';\r\n\timport FaCitys from './components/fa-citys/fa-citys.vue';\r\n\timport FaEditor from './components/fa-editor/fa-editor.vue';\r\n\timport FaFile from './components/fa-file/fa-file.vue';\r\n\timport FaSelectpages from './components/fa-selectpages/fa-selectpages.vue';\r\n\timport FaSelects from './components/fa-selects/fa-selects.vue';\r\n\timport FaSwitch from './components/fa-switch/fa-switch.vue';\r\n\timport FaTags from './components/fa-tags/fa-tags.vue';\r\n\timport FaUploadFile from './components/fa-upload-file/fa-upload-file.vue';\r\n\timport FaUploadImage from './components/fa-upload-image/fa-upload-image.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tFaArray,\r\n\t\t\tFaArrayDownload,\r\n\t\t\tFaCheckRadio,\r\n\t\t\tFaCitys,\r\n\t\t\tFaEditor,\r\n\t\t\tFaFile,\r\n\t\t\tFaSelectpages,\r\n\t\t\tFaSelects,\r\n\t\t\tFaSwitch,\r\n\t\t\tFaTags,\r\n\t\t\tFaUploadFile,\r\n\t\t\tFaUploadImage\r\n\t\t},\r\n\t\tmixins: [formRule],\r\n\t\tonLoad(e) {\r\n\t\t\tlet query = e || {};\r\n\t\t\tthis.archives_id = query.archives_id || 0;\r\n\t\t\tif (this.archives_id) {\r\n\t\t\t\tthis.title = \"编辑文章\";\r\n\t\t\t}\r\n\t\t\tthis.getChannelFields();\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\r\n\t\t\t\tarchives_id: '',\r\n\t\t\t\tlabelPosition: 'top',\r\n\t\t\t\tborder: false,\r\n\t\t\t\terrorType: ['message'],\r\n\t\t\t\tshowForm: false,\r\n\t\t\t\ttitle: \"发布文章\",\r\n\t\t\t\t// 表单字段\r\n\t\t\t\tfields: [],\r\n\t\t\t\tvalues: {},\r\n\t\t\t\t//项目信息\r\n\t\t\t\tarchives: {},\r\n\t\t\t\tform: {},\r\n\t\t\t\trules: {},\r\n\t\t\t\trules_bak: {},\r\n\r\n\t\t\t\tcalendarShow: false,\r\n\t\t\t\tshowPicker: false,\r\n\t\t\t\tmode: '',\r\n\t\t\t\ttime_field: '',\r\n\t\t\t\tparams: {},\r\n\t\t\t\tcityShow: false,\r\n\t\t\t\tcity_field: '',\r\n\t\t\t\timageList: {}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowField(item, index) {\r\n\t\t\t\tlet visible = false;\r\n\t\t\t\tif (item.favisible && item.favisible.length > 0) {\r\n\t\t\t\t\tlet success = 0;\r\n\t\t\t\t\tfor (let i = 0; i < item.favisible.length; i++) {\r\n\t\t\t\t\t\tlet subitem = item.favisible[i];\r\n\t\t\t\t\t\tswitch (subitem.operate) {\r\n\t\t\t\t\t\t\tcase \"=\":\r\n\t\t\t\t\t\t\tcase \"==\":\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] == subitem.value) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \">\":\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] > subitem.value) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \">=\":\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] >= subitem.value) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"<\":\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] < subitem.value) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"<=\":\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] <= subitem.value) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"in\":\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] && this.form[subitem.field].indexOf(subitem.value) > -1) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"regex\":\r\n\t\t\t\t\t\t\t\tlet reg = new RegExp(subitem.value);\r\n\t\t\t\t\t\t\t\tif (this.form[subitem.field] && this.form[subitem.field].match(reg)) {\r\n\t\t\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (i == success) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (success == item.favisible.length) {\r\n\t\t\t\t\t\t\tvisible = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvisible = true;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < this.rules[item.name].length; i++) {\r\n\t\t\t\t\tthis.rules[item.name][i].required = (visible ? (this.rules_bak[item.name][i].required || false) : false);\r\n\t\t\t\t\tthis.fields[index].required = (visible ? (this.rules_bak[item.name][i].required || false) : false);\r\n\t\t\t\t}\r\n\t\t\t\treturn visible;\r\n\t\t\t},\r\n\t\t\t//获取字段\r\n\t\t\tgetChannelFields() {\r\n\t\t\t\tthis.$api.getChannelFields({\r\n\t\t\t\t\tchannel_id: this.vuex_channel_id,\r\n\t\t\t\t\tarchives_id: this.archives_id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t\tthis.values = res.data.values;\r\n\t\t\t\t\t\tthis.archives = res.data.archives;\r\n\t\t\t\t\t\tthis.fields = res.data.fields;\r\n\r\n\t\t\t\t\t\t//渲染自定义字段\r\n\t\t\t\t\t\tlet custom_form = {};\r\n\t\t\t\t\t\tlet rules = {};\r\n\t\t\t\t\t\tthis.fields.map(item => {\r\n\t\t\t\t\t\t\t//表单赋值\r\n\t\t\t\t\t\t\tif (item.type == 'number') {\r\n\t\t\t\t\t\t\t\tcustom_form[item.name] = item.value || item.defaultvalue || 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcustom_form[item.name] = item.value || item.defaultvalue || '';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//单图赋值\r\n\t\t\t\t\t\t\tif (item.type == 'image') {\r\n\t\t\t\t\t\t\t\tif (item.value) {\r\n\t\t\t\t\t\t\t\t\titem.value = [{\r\n\t\t\t\t\t\t\t\t\t\turl: this.cdnurl(item.value)\r\n\t\t\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\titem.value = [];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//多图赋值\r\n\t\t\t\t\t\t\tif (item.type == 'images') {\r\n\t\t\t\t\t\t\t\tif (item.value) {\r\n\t\t\t\t\t\t\t\t\tlet images = item.value.split(',');\r\n\t\t\t\t\t\t\t\t\tlet urls = [];\r\n\t\t\t\t\t\t\t\t\timages.forEach(it => {\r\n\t\t\t\t\t\t\t\t\t\turls.push({\r\n\t\t\t\t\t\t\t\t\t\t\turl: this.cdnurl(it)\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\titem.value = urls;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\titem.value = [];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//单文件\r\n\t\t\t\t\t\t\tif (item.type == 'file') {\r\n\t\t\t\t\t\t\t\titem.value = item.value ? [item.value] : [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//多文件\r\n\t\t\t\t\t\t\tif (item.type == 'files') {\r\n\t\t\t\t\t\t\t\tif (item.value) {\r\n\t\t\t\t\t\t\t\t\titem.value = item.value.split(',');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\titem.value = [];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//默认值\r\n\t\t\t\t\t\t\titem.required = false;\r\n\t\t\t\t\t\t\t//追加自定义表单验证\r\n\t\t\t\t\t\t\trules[item.name] = this.getRules(item);\r\n\t\t\t\t\t\t\tconsole.log(item, item.rule)\r\n\t\t\t\t\t\t\t//判断验证规则是否必选\r\n\t\t\t\t\t\t\trules[item.name].map(rule => {\r\n\t\t\t\t\t\t\t\tif (rule.required) {\r\n\t\t\t\t\t\t\t\t\titem.required = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(custom_form, rules)\r\n\r\n\t\t\t\t\t\tthis.form = custom_form;\r\n\t\t\t\t\t\tthis.rules = rules;\r\n\t\t\t\t\t\tthis.rules_bak = this.$u.deepClone(rules);\r\n\t\t\t\t\t\tthis.showForm = true;\r\n\t\t\t\t\t\t//设置表单验证规则\r\n\t\t\t\t\t\tconsole.log(this.form, this.rules, this.fields);\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.$refs.uForm.setRules(this.rules);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//标签数据\r\n\t\t\ttagsChange(e) {\r\n\t\t\t\tthis.$set(this.form, 'tags', e.join(','));\r\n\t\t\t},\r\n\t\t\t//时间显示\r\n\t\t\tselectPicker(mode, field) {\r\n\t\t\t\tthis.mode = mode;\r\n\t\t\t\tthis.time_field = field;\r\n\t\t\t\tswitch (mode) {\r\n\t\t\t\t\tcase 'date':\r\n\t\t\t\t\t\tthis.params = {\r\n\t\t\t\t\t\t\tyear: true,\r\n\t\t\t\t\t\t\tmonth: true,\r\n\t\t\t\t\t\t\tday: true,\r\n\t\t\t\t\t\t\thour: false,\r\n\t\t\t\t\t\t\tminute: false,\r\n\t\t\t\t\t\t\tsecond: false\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'time':\r\n\t\t\t\t\t\tthis.params = {\r\n\t\t\t\t\t\t\tyear: false,\r\n\t\t\t\t\t\t\tmonth: false,\r\n\t\t\t\t\t\t\tday: false,\r\n\t\t\t\t\t\t\thour: true,\r\n\t\t\t\t\t\t\tminute: true,\r\n\t\t\t\t\t\t\tsecond: true\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'datetime':\r\n\t\t\t\t\t\tthis.params = {\r\n\t\t\t\t\t\t\tyear: true,\r\n\t\t\t\t\t\t\tmonth: true,\r\n\t\t\t\t\t\t\tday: true,\r\n\t\t\t\t\t\t\thour: true,\r\n\t\t\t\t\t\t\tminute: true,\r\n\t\t\t\t\t\t\tsecond: true\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.showPicker = true;\r\n\t\t\t},\r\n\t\t\t//时间的选择结果\r\n\t\t\tpickerResult(e) {\r\n\t\t\t\tswitch (this.mode) {\r\n\t\t\t\t\tcase 'date':\r\n\t\t\t\t\t\tthis.$set(this.form, this.time_field, e.year + '-' + e.month + '-' + e.day);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'time':\r\n\t\t\t\t\t\tthis.$set(this.form, this.time_field, e.hour + ':' + e.minute + ':' + e.second);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'datetime':\r\n\t\t\t\t\t\tthis.$set(this.form, this.time_field, e.year + '-' + e.month + '-' + e.day + ' ' + e.hour + ':' + e.minute + ':' + e.second);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topenmap(name) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.$set(that.form, name, `${res.address},${res.latitude},${res.longitude}`);\r\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//时间范围选择的结果\r\n\t\t\tcalendarResult(e) {\r\n\t\t\t\tthis.$set(this.form, this.time_field, e.startDate + ' 00:00:00 - ' + e.endDate + ' 23:59:59');\r\n\t\t\t},\r\n\t\t\t//城市选择\r\n\t\t\tcityResult(e) {\r\n\t\t\t\tthis.$set(this.form, this.city_field, e.province.label + '/' + e.city.label + '/' + e.area.label);\r\n\t\t\t},\r\n\t\t\t//提交\r\n\t\t\tsubmit: async function() {\r\n\t\t\t\tconsole.log('验证开始', this.form);\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs.uForm.setRules(this.rules);\r\n\t\t\t\t});\r\n\t\t\t\t//校验\r\n\t\t\t\tthis.$refs.uForm.validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tconsole.log('验证通过', this.form);\r\n\t\t\t\t\t\tthis.$api.archivesPost(Object.assign({ channel_id: this.vuex_channel_id, id: this.archives_id }, this.form)).then(res => {\r\n\t\t\t\t\t\t\tthis.$u.toast(res.msg);\r\n\t\t\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\tdelta: 2,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet pages = getCurrentPages();\r\n\t\t\t\t\t\t\t\t\t\t\tlet prevPage = pages[pages.length - 3]; //跳转页面成功之后刷新\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(prevPage);\r\n\t\t\t\t\t\t\t\t\t\t\tprevPage && typeof prevPage.$vm.reload === 'function' && prevPage.$vm.reload();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('验证失败', this.form);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n</style>","import mod from \"-!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./archives.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件根目录\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./archives.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747145942174\n      var cssReload = require(\"E:/软件根目录/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}